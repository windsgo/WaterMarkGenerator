<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Exiv2: Exiv2::Internal::IoWrapper Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="exiv2.png"/></td>
  <td id="projectalign">
   <div id="projectname">Exiv2
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceExiv2.html">Exiv2</a></li><li class="navelem"><a class="el" href="namespaceExiv2_1_1Internal.html">Internal</a></li><li class="navelem"><a class="el" href="classExiv2_1_1Internal_1_1IoWrapper.html">IoWrapper</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="classExiv2_1_1Internal_1_1IoWrapper-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Exiv2::Internal::IoWrapper Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Simple IO wrapper to ensure that the header is only written if there is any other data at all.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="tiffcomposite__int_8hpp_source.html">tiffcomposite_int.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Creators</div></td></tr>
<tr class="memitem:aa297c2bd3a49c8956e99423f514cca9c" id="r_aa297c2bd3a49c8956e99423f514cca9c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa297c2bd3a49c8956e99423f514cca9c">IoWrapper</a> (<a class="el" href="classExiv2_1_1BasicIo.html">BasicIo</a> &amp;io, const <a class="el" href="namespaceExiv2.html#a1086f1c0d745e8822bdd04125e7b5c13">byte</a> *pHeader, size_t size, <a class="el" href="classExiv2_1_1Internal_1_1OffsetWriter.html">OffsetWriter</a> *pow)</td></tr>
<tr class="separator:aa297c2bd3a49c8956e99423f514cca9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Manipulators</h2></td></tr>
<tr class="memitem:a83612a22f27a05c39f36eda7904d63c1" id="r_a83612a22f27a05c39f36eda7904d63c1"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a83612a22f27a05c39f36eda7904d63c1">write</a> (const <a class="el" href="namespaceExiv2.html#a1086f1c0d745e8822bdd04125e7b5c13">byte</a> *pData, size_t wcount)</td></tr>
<tr class="memdesc:a83612a22f27a05c39f36eda7904d63c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wraps the corresponding <a class="el" href="classExiv2_1_1BasicIo.html#a0767a42aa8f38a34428288338cadb343" title="Write data to the IO source. Current IO position is advanced by the number of bytes written.">BasicIo::write()</a> method.  <br /></td></tr>
<tr class="separator:a83612a22f27a05c39f36eda7904d63c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a248b4747439e4bcbe9eabce1906ef48b" id="r_a248b4747439e4bcbe9eabce1906ef48b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a248b4747439e4bcbe9eabce1906ef48b">putb</a> (<a class="el" href="namespaceExiv2.html#a1086f1c0d745e8822bdd04125e7b5c13">byte</a> data)</td></tr>
<tr class="memdesc:a248b4747439e4bcbe9eabce1906ef48b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wraps the corresponding <a class="el" href="classExiv2_1_1BasicIo.html#ad16a1fab0f122c8ca11b86d09b03b9a7" title="Write one byte to the IO source. Current IO position is advanced by one byte.">BasicIo::putb()</a> method.  <br /></td></tr>
<tr class="separator:a248b4747439e4bcbe9eabce1906ef48b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51cd030eba517d3428ab540eb8880b05" id="r_a51cd030eba517d3428ab540eb8880b05"><td class="memItemLeft" align="right" valign="top"><a id="a51cd030eba517d3428ab540eb8880b05" name="a51cd030eba517d3428ab540eb8880b05"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setTarget</b> (int id, size_t target)</td></tr>
<tr class="memdesc:a51cd030eba517d3428ab540eb8880b05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper for <a class="el" href="classExiv2_1_1Internal_1_1OffsetWriter.html#a3027f3a66c703571949035345a962ac8" title="Set the target for offset id, i.e., the address to which the offset points.">OffsetWriter::setTarget()</a>, using an int instead of the enum to reduce include deps. <br /></td></tr>
<tr class="separator:a51cd030eba517d3428ab540eb8880b05"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Simple IO wrapper to ensure that the header is only written if there is any other data at all. </p>
<p>The wrapper is initialized with an IO reference and a pointer to a TIFF header. Subsequently the wrapper is used by all TIFF write methods. It takes care that the TIFF header is written to the IO first before any other output and only if there is any other data. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa297c2bd3a49c8956e99423f514cca9c" name="aa297c2bd3a49c8956e99423f514cca9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa297c2bd3a49c8956e99423f514cca9c">&#9670;&#160;</a></span>IoWrapper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Exiv2::Internal::IoWrapper::IoWrapper </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classExiv2_1_1BasicIo.html">BasicIo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>io</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespaceExiv2.html#a1086f1c0d745e8822bdd04125e7b5c13">byte</a> *</td>          <td class="paramname"><span class="paramname"><em>pHeader</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classExiv2_1_1Internal_1_1OffsetWriter.html">OffsetWriter</a> *</td>          <td class="paramname"><span class="paramname"><em>pow</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>brief Constructor.</p>
<p>The IO wrapper owns none of the objects passed in so the caller is responsible to keep them alive. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a248b4747439e4bcbe9eabce1906ef48b" name="a248b4747439e4bcbe9eabce1906ef48b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a248b4747439e4bcbe9eabce1906ef48b">&#9670;&#160;</a></span>putb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Exiv2::Internal::IoWrapper::putb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceExiv2.html#a1086f1c0d745e8822bdd04125e7b5c13">byte</a></td>          <td class="paramname"><span class="paramname"><em>data</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wraps the corresponding <a class="el" href="classExiv2_1_1BasicIo.html#ad16a1fab0f122c8ca11b86d09b03b9a7" title="Write one byte to the IO source. Current IO position is advanced by one byte.">BasicIo::putb()</a> method. </p>
<p>Writes the TIFF header to the IO, if it hasn't been written yet, followed by the data passed in the argument. </p>

<p class="reference">Referenced by <a class="el" href="classExiv2_1_1Internal_1_1TiffDirectory.html#a8956e89be4c0a182a1a1b8fa1cbd3053">Exiv2::Internal::TiffDirectory::doWrite()</a>, <a class="el" href="classExiv2_1_1Internal_1_1TiffDataEntry.html#a644ba0e6058d937475196b11ec986968">Exiv2::Internal::TiffDataEntry::doWriteData()</a>, <a class="el" href="classExiv2_1_1Internal_1_1TiffSubIfd.html#a4c5cd83b08e06b8cb8b6a2823a7f9510">Exiv2::Internal::TiffSubIfd::doWriteData()</a>, and <a class="el" href="classExiv2_1_1Internal_1_1TiffImageEntry.html#a02d4f464a625b65585595109449cf6e8">Exiv2::Internal::TiffImageEntry::doWriteImage()</a>.</p>

</div>
</div>
<a id="a83612a22f27a05c39f36eda7904d63c1" name="a83612a22f27a05c39f36eda7904d63c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83612a22f27a05c39f36eda7904d63c1">&#9670;&#160;</a></span>write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t Exiv2::Internal::IoWrapper::write </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceExiv2.html#a1086f1c0d745e8822bdd04125e7b5c13">byte</a> *</td>          <td class="paramname"><span class="paramname"><em>pData</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>wcount</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wraps the corresponding <a class="el" href="classExiv2_1_1BasicIo.html#a0767a42aa8f38a34428288338cadb343" title="Write data to the IO source. Current IO position is advanced by the number of bytes written.">BasicIo::write()</a> method. </p>
<p>Writes the TIFF header to the IO, if it hasn't been written yet, followed by the data passed in the arguments. </p>

<p class="reference">Referenced by <a class="el" href="classExiv2_1_1Internal_1_1TiffBinaryArray.html#adc1490d50e91f69f475682fd257cda52">Exiv2::Internal::TiffBinaryArray::doWrite()</a>, <a class="el" href="classExiv2_1_1Internal_1_1TiffBinaryElement.html#a3d9a171f4b6fb785154045ded90a4d2d">Exiv2::Internal::TiffBinaryElement::doWrite()</a>, <a class="el" href="classExiv2_1_1Internal_1_1TiffDataEntry.html#a0ff6e7f3e24b724dbdb10c1d7b511e4f">Exiv2::Internal::TiffDataEntry::doWrite()</a>, <a class="el" href="classExiv2_1_1Internal_1_1TiffDirectory.html#a8956e89be4c0a182a1a1b8fa1cbd3053">Exiv2::Internal::TiffDirectory::doWrite()</a>, <a class="el" href="classExiv2_1_1Internal_1_1TiffEntryBase.html#a5bc4790f3d736764f74818621d33cd4e">Exiv2::Internal::TiffEntryBase::doWrite()</a>, <a class="el" href="classExiv2_1_1Internal_1_1TiffImageEntry.html#a8db444bd178ac65a35f07203ab8cab8a">Exiv2::Internal::TiffImageEntry::doWrite()</a>, <a class="el" href="classExiv2_1_1Internal_1_1TiffSubIfd.html#a207e9ee36f4967cd2e8649fbe2bf2b36">Exiv2::Internal::TiffSubIfd::doWrite()</a>, <a class="el" href="classExiv2_1_1Internal_1_1TiffDataEntry.html#a644ba0e6058d937475196b11ec986968">Exiv2::Internal::TiffDataEntry::doWriteData()</a>, <a class="el" href="classExiv2_1_1Internal_1_1TiffImageEntry.html#a02d4f464a625b65585595109449cf6e8">Exiv2::Internal::TiffImageEntry::doWriteImage()</a>, <a class="el" href="classExiv2_1_1Internal_1_1Casio2MnHeader.html#a3b1c343af73bdd5beb852ea900c81681">Exiv2::Internal::Casio2MnHeader::write()</a>, <a class="el" href="classExiv2_1_1Internal_1_1FujiMnHeader.html#a6fe272ac3bfb8feafeda07260c7c8275">Exiv2::Internal::FujiMnHeader::write()</a>, <a class="el" href="classExiv2_1_1Internal_1_1Nikon2MnHeader.html#a695bd27071982d7e4099fdd0014b3125">Exiv2::Internal::Nikon2MnHeader::write()</a>, <a class="el" href="classExiv2_1_1Internal_1_1Nikon3MnHeader.html#a981cbe50103fa1c8ea221ee463ca1a19">Exiv2::Internal::Nikon3MnHeader::write()</a>, <a class="el" href="classExiv2_1_1Internal_1_1Olympus2MnHeader.html#a67cc86f5223a1421eb4450d1e607b4a5">Exiv2::Internal::Olympus2MnHeader::write()</a>, <a class="el" href="classExiv2_1_1Internal_1_1OlympusMnHeader.html#a6ef9ef29b7346f9490fdb38caf27e2a9">Exiv2::Internal::OlympusMnHeader::write()</a>, <a class="el" href="classExiv2_1_1Internal_1_1OMSystemMnHeader.html#ada5ca2d2d97cea5b4e8780079f5b30ed">Exiv2::Internal::OMSystemMnHeader::write()</a>, <a class="el" href="classExiv2_1_1Internal_1_1PanasonicMnHeader.html#a30034291e80f821d3be01a2167500917">Exiv2::Internal::PanasonicMnHeader::write()</a>, <a class="el" href="classExiv2_1_1Internal_1_1PentaxDngMnHeader.html#a86932ea1bd1e106c065fd99897298728">Exiv2::Internal::PentaxDngMnHeader::write()</a>, <a class="el" href="classExiv2_1_1Internal_1_1PentaxMnHeader.html#a77945a6fc930569a4598be2d5f3e7c59">Exiv2::Internal::PentaxMnHeader::write()</a>, <a class="el" href="classExiv2_1_1Internal_1_1SigmaMnHeader.html#afd1c9a4d87538341f1c7da6dbd9f43cc">Exiv2::Internal::SigmaMnHeader::write()</a>, and <a class="el" href="classExiv2_1_1Internal_1_1SonyMnHeader.html#abd8d87e5027ede4501e10a7da3d66b6d">Exiv2::Internal::SonyMnHeader::write()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="tiffcomposite__int_8hpp_source.html">tiffcomposite_int.hpp</a></li>
<li><b>tiffcomposite_int.cpp</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Feb 21 2025 16:24:05 for Exiv2 by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
